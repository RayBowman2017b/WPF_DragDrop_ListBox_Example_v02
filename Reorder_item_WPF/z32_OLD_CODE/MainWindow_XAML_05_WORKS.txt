<Window x:Class="Reorder_item_WPF.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MainWindow" Height="350" Width="525" 
        xmlns:dd="clr-namespace:GongSolutions.Wpf.DragDrop;assembly=GongSolutions.Wpf.DragDrop"
        WindowStartupLocation="CenterScreen"
        >

    <Window.Resources>
        <Style TargetType="{x:Type ListBox}">
            <!-- Set the ItemTemplate of the ListBox to a DataTemplate 
           which explains how to display an object of type BitmapImage. -->
            <Setter Property="ItemTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <Border 
                              BorderBrush="Black" 
                              BorderThickness="4" 
                              CornerRadius="8"
                              Margin="4"
                              Padding="4"
                        >
                <!--<TextBlock Text="{Binding Name}" Foreground="White"
                   Background="#2ba3d5" Height="Auto" Width="Auto"
                   HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="18"/>-->
                <Button Content="{Binding Name}" Foreground="White"
                        Background="#2ba3d5" Height="Auto" Width="Auto"
                        FontSize="18"/>

                        </Border>
                    </DataTemplate>
                </Setter.Value>
            </Setter>

            <!-- Swap out the default items panel with a WrapPanel so that
           the images will be arranged with a different layout. -->
            <Setter Property="ItemsPanel">
                <Setter.Value>
                    <ItemsPanelTemplate>
                        <WrapPanel Name="wrappanel_file_buttons" Background="BlueViolet" />

                        <!--<ScrollViewer Width="111" Height="333">
                            <WrapPanel />
                        </ScrollViewer>-->
                    </ItemsPanelTemplate>
                </Setter.Value>
            </Setter>

            <!-- Set this attached property to 'Disabled' so that the 
           ScrollViewer in the ListBox will never show a horizontal 
           scrollbar, and the WrapPanel it contains will be constrained 
           to the width of the ScrollViewer's viewable surface. -->
            <Setter 
        Property="ScrollViewer.HorizontalScrollBarVisibility" 
        Value="Disabled" 
        />
        </Style>
    </Window.Resources>



    <ScrollViewer Name="ScrollVwr_for_main_content"
                    Height="Auto"
                    HorizontalScrollBarVisibility="Auto"
                    VerticalScrollBarVisibility="Auto"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Stretch"
                    Padding="4"
                    BorderBrush="Black"
                    BorderThickness="2"
                    Background="DarkGreen" >

        <Grid>
            <!--
              Width="300" Margin="0,0,5,0"
          -->

            <DockPanel
                    Grid.Row="1"  Grid.Column="0"
                    Height="148"
                    LastChildFill="True"
                    Width="{Binding ElementName=ScrollVwr_for_main_content, Path=ViewportWidth}"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Name="Dockpanel_for_file_buttons">

                <ListBox
                     Grid.Column="1" SelectionMode="Extended" ItemsSource="{Binding MSPCollection}"
                     dd:DragDrop.IsDragSource="True"
                     Width="Auto" Margin="4"
                     Background="Aquamarine"
                     dd:DragDrop.IsDropTarget="True">
                <!--<ListBox.ItemTemplate>
                    <DataTemplate>

                        <!<Grid Background="#2ba3d5" Height="50" Width="280">
                        <TextBlock Text="{Binding Name}" Foreground="White"
                                   HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="40"/>
                    </Grid>>

                    </DataTemplate>
                </ListBox.ItemTemplate>-->
                </ListBox>
            </DockPanel>
        </Grid>
    </ScrollViewer>
</Window>
