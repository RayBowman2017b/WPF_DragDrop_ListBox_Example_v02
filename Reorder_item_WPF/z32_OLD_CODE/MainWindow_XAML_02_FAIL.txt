<Window x:Class="Reorder_item_WPF.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MainWindow" Height="350" Width="525" 
         xmlns:dd="clr-namespace:GongSolutions.Wpf.DragDrop;assembly=GongSolutions.Wpf.DragDrop">


    <!--[ </Window.Resources> END;]-->
    <Window.Resources>
        <Style x:Key="Button_ListBox_Style" TargetType="{x:Type ListBox}">
            <!-- Set the ItemTemplate of the ListBox to a DataTemplate 
           which explains how to display an object of type BitmapImage. -->
            <Setter Property="ItemTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <TextBlock Text="{Binding Name}" Foreground="White"
                                   Background="#2ba3d5" Height="50" Width="180"
                                   HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="18"/>
                    </DataTemplate>
                </Setter.Value>
            </Setter>

            <!-- Swap out the default items panel with a WrapPanel so that
           the images will be arranged with a different layout.
                    Grid.Column="0" Grid.Row="1"
            -->
            <Setter Property="ItemsPanel">
                <Setter.Value>
                    <ItemsPanelTemplate>

                        <DockPanel>
                            
                        <ScrollViewer Background="#FF270627" Name="ScrollVwr_for_file_buttons"

                    Margin="4,4,4,4"
                    Width="Auto"
                    Height="Auto"
                    BorderThickness="2"
                    BorderBrush="Black"
                    HorizontalScrollBarVisibility="Disabled"
                    VerticalScrollBarVisibility="Auto"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Stretch"
                    GotFocus="ScrollVwr_for_main_content_GotFocus">
                            <WrapPanel />
                        </ScrollViewer>
                        </DockPanel>
                    </ItemsPanelTemplate>
                </Setter.Value>
            </Setter>

            <!-- Set this attached property to 'Disabled' so that the 
           ScrollViewer in the ListBox will never show a horizontal 
           scrollbar, and the WrapPanel it contains will be constrained 
           to the width of the ScrollViewer's viewable surface. -->
            <Setter 
        Property="ScrollViewer.HorizontalScrollBarVisibility" 
        Value="Disabled" 
        />
        </Style>
    </Window.Resources>
    <!--[ </Window.Resources> END;]-->


    <ScrollViewer Name="ScrollVwr_for_main_content"
                    Height="Auto"
                    HorizontalScrollBarVisibility="Auto"
                    VerticalScrollBarVisibility="Auto"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Stretch"
                    Padding="4"
                    BorderBrush="Black"
                    BorderThickness="2"
                    Background="DarkGreen" >
        
    <Grid>

        <Grid.RowDefinitions>
            <RowDefinition Height="44" />
            <!--
                Scintilla text editor panel neither contracts nor expands
                When Height is set to "Auto".
              -->
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="176" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        

        
        <!--
              Width="300" Margin="0,0,5,0"
              Width="Auto"
                 Width="{Binding ElementName=ScrollVwr_for_main_content, Path=ViewportWidth}"
                 Height="{Binding ElementName=ScrollVwr_for_file_buttons, Path=Height}"

            <WrapPanel >
          -->
        <ListBox SelectionMode="Extended"
                 ItemsSource="{Binding MSPCollection}"
                 Style="{StaticResource Button_ListBox_Style}"
                 dd:DragDrop.IsDragSource="True"
                 Width="Auto"
                 Height="Auto"
                 Margin="4"
                 dd:DragDrop.IsDropTarget="True">

            <!--<ListBox.ItemTemplate>
                <DataTemplate>
                            <TextBlock Text="{Binding Name}" Foreground="White"
                                   Background="#2ba3d5" Height="50" Width="180"
                                   HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="18"/>

                    <! <Grid Background="#2ba3d5" Height="50" Width="280">
                        <TextBlock Text="{Binding Name}" Foreground="White"
                                   HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="40"/>
                    </Grid> ->

                </DataTemplate>
            </ListBox.ItemTemplate>-->

        </ListBox>
                    <!--</WrapPanel>-->
        <!--</ScrollViewer>-->
    </Grid>
    </ScrollViewer>
</Window>
